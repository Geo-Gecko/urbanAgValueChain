<!DOCTYPE html>
<!-- saved from url=(0105)https://uploads.knightlab.com/storymapjs/287d24796e75704faed5e89799a8eab7/mushroom-value-chain/draft.html -->
<html lang="en" wtx-context="5ABCEFE0-B8E6-4167-81D1-3AD17D787F00"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>StoryMapJS: mushroom value chain</title>

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@knightlab">
<meta property="og:type" content="website">
<meta property="og:title" content="mushroom value chain">
<meta property="og:description" content="">
<meta property="og:url" content="https://uploads.knightlab.com/storymapjs/287d24796e75704faed5e89799a8eab7/mushroom-value-chain/draft.html">
<meta property="og:image" content="https://media.knightlab.com/StoryMapJS/img/logos/logo_storymap.png">
<meta property="og:site_name" content="StoryMapJS">
<meta name="description" content="">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-touch-fullscreen" content="yes">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<link rel="shortcut icon" href="https://cdn.knightlab.com/libs/blueline/latest/assets/logos/favicon.ico">
<link rel="stylesheet" href="./StoryMapJS_ mushroom value chain_files/storymap.css">
<link rel="alternate" type="application/json+oembed" href="https://oembed.knightlab.com/storymap/?url=https%3A//uploads.knightlab.com/storymapjs/287d24796e75704faed5e89799a8eab7/mushroom-value-chain/draft.html">
<script type="text/javascript" async="" src="./StoryMapJS_ mushroom value chain_files/analytics.js.download"></script><script type="text/javascript" src="./StoryMapJS_ mushroom value chain_files/storymap-min.js.download"></script>
<script type="text/javascript" src="./StoryMapJS_ mushroom value chain_files/json2.min.js.download"></script>
<style>
html, body {
    width: 100%;
    height: 100%;
    padding: 0;
    margin: 0;
}
#storymap-embed {
    /*border: 1px solid #999;*/
}
</style>
<!-- HTML5 shim, for IE6-8 support of HTML elements--><!--[if lt IE 9]>
<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
<link href="./StoryMapJS_ mushroom value chain_files/font.default.css" rel="stylesheet" class="lazyload" charset="utf-8"><link href="./StoryMapJS_ mushroom value chain_files/font.emoji.css" rel="stylesheet" class="lazyload" charset="utf-8"></head>
<body>
<div id="storymap-embed" class=" vco-storymap vco-layout-landscape"><div class="vco-menubar"><span class="vco-menubar-button">Map Overview</span><span class="vco-menubar-button">Back To Beginning <span class="vco-icon-goback"></span></span><span class="vco-menubar-button" style="display: none;">Hide Map<span class="vco-icon-arrow-up"></span></span></div><div class="vco-map" style="height: 925px; background-color: rgb(217, 217, 217);"><div class="vco-map-mask"><div class="vco-map-display leaflet-container leaflet-fade-anim" style="position: relative;"><div class="leaflet-map-pane leaflet-pan-anim" style="transform: translate3d(-334px, -24px, 0px); transition: all 1s cubic-bezier(0, 0, 0.1, 1) 0s;"><div class="leaflet-tile-pane"><div class="leaflet-layer"><div class="leaflet-tile-container leaflet-zoom-animated" style=""></div><div class="leaflet-tile-container leaflet-zoom-animated" style=""><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-1-0.jpg" style="height: 256px; width: 212px; left: 664px; top: 241px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-1-1.jpg" style="height: 244px; width: 212px; left: 664px; top: 497px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-0-0.jpg" style="height: 256px; width: 256px; left: 408px; top: 241px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-0-1.jpg" style="height: 244px; width: 256px; left: 408px; top: 497px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-1-0.jpg" style="height: 256px; width: 212px; left: 664px; top: 241px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-1-1.jpg" style="height: 244px; width: 212px; left: 664px; top: 497px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-0-0.jpg" style="height: 256px; width: 256px; left: 408px; top: 241px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-0-1.jpg" style="height: 244px; width: 256px; left: 408px; top: 497px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-1-0.jpg" style="height: 256px; width: 212px; left: 664px; top: 241px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-1-1.jpg" style="height: 244px; width: 212px; left: 664px; top: 497px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-0-0.jpg" style="height: 256px; width: 256px; left: 408px; top: 241px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-0-1.jpg" style="height: 244px; width: 256px; left: 408px; top: 497px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-1-0.jpg" style="height: 256px; width: 212px; left: 664px; top: 241px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-1-1.jpg" style="height: 244px; width: 212px; left: 664px; top: 497px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-0-0.jpg" style="height: 256px; width: 256px; left: 408px; top: 241px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-0-1.jpg" style="height: 244px; width: 256px; left: 408px; top: 497px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-1-0.jpg" style="height: 256px; width: 212px; left: 664px; top: 241px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-1-1.jpg" style="height: 244px; width: 212px; left: 664px; top: 497px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-0-0.jpg" style="height: 256px; width: 256px; left: 408px; top: 241px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-0-1.jpg" style="height: 244px; width: 256px; left: 408px; top: 497px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-1-0.jpg" style="height: 256px; width: 212px; left: 664px; top: 241px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-1-1.jpg" style="height: 244px; width: 212px; left: 664px; top: 497px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-0-0.jpg" style="height: 256px; width: 256px; left: 408px; top: 241px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-0-1.jpg" style="height: 244px; width: 256px; left: 408px; top: 497px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-1-0.jpg" style="height: 256px; width: 212px; left: 664px; top: 241px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-1-1.jpg" style="height: 244px; width: 212px; left: 664px; top: 497px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-0-0.jpg" style="height: 256px; width: 256px; left: 408px; top: 241px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-0-1.jpg" style="height: 244px; width: 256px; left: 408px; top: 497px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-1-0.jpg" style="height: 256px; width: 212px; left: 664px; top: 241px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-1-1.jpg" style="height: 244px; width: 212px; left: 664px; top: 497px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-0-0.jpg" style="height: 256px; width: 256px; left: 408px; top: 241px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/1-0-1.jpg" style="height: 244px; width: 256px; left: 408px; top: 497px;"></div></div></div><div class="leaflet-objects-pane"><div class="leaflet-shadow-pane"></div><div class="leaflet-overlay-pane"><svg class="leaflet-zoom-animated" width="1301" height="964" viewBox="309 5 1301 964" style="transform: translate3d(309px, 5px, 0px);"><g><path class="vco-map-line" stroke-linejoin="miter" stroke-linecap="round" pointer-events="none" stroke="#CCC" stroke-opacity="0.8" stroke-width="3" stroke-dasharray="5,5" fill="none" d="M540 369L754 584"></path></g><g><path class="vco-map-line" stroke-linejoin="miter" stroke-linecap="round" pointer-events="none" stroke="#c34528" stroke-opacity="0" stroke-width="3" stroke-dasharray="5,5" fill="none" d="M0 0"></path></g></svg><img class="leaflet-image-layer leaflet-zoom-animated" src="./StoryMapJS_ mushroom value chain_files/2-3-1.jpg" style="opacity: 1; transform: translate3d(792px, 369px, 0px); width: 85px; height: 128px;"><img class="leaflet-image-layer leaflet-zoom-animated" src="./StoryMapJS_ mushroom value chain_files/2-3-2.jpg" style="opacity: 1; transform: translate3d(792px, 497px, 0px); width: 85px; height: 128px;"><img class="leaflet-image-layer leaflet-zoom-animated" src="./StoryMapJS_ mushroom value chain_files/2-2-1.jpg" style="opacity: 1; transform: translate3d(664px, 369px, 0px); width: 128px; height: 128px;"><img class="leaflet-image-layer leaflet-zoom-animated" src="./StoryMapJS_ mushroom value chain_files/2-2-2.jpg" style="opacity: 1; transform: translate3d(664px, 497px, 0px); width: 128px; height: 128px;"><img class="leaflet-image-layer leaflet-zoom-animated" src="./StoryMapJS_ mushroom value chain_files/2-3-3.jpg" style="opacity: 1; transform: translate3d(792px, 625px, 0px); width: 85px; height: 116px;"><img class="leaflet-image-layer leaflet-zoom-animated" src="./StoryMapJS_ mushroom value chain_files/2-3-0.jpg" style="opacity: 1; transform: translate3d(792px, 241px, 0px); width: 85px; height: 128px;"><img class="leaflet-image-layer leaflet-zoom-animated" src="./StoryMapJS_ mushroom value chain_files/2-2-0.jpg" style="opacity: 1; transform: translate3d(664px, 241px, 0px); width: 128px; height: 128px;"><img class="leaflet-image-layer leaflet-zoom-animated" src="./StoryMapJS_ mushroom value chain_files/2-2-3.jpg" style="opacity: 1; transform: translate3d(664px, 625px, 0px); width: 128px; height: 116px;"><img class="leaflet-image-layer leaflet-zoom-animated" src="./StoryMapJS_ mushroom value chain_files/2-1-1.jpg" style="opacity: 1; transform: translate3d(536px, 369px, 0px); width: 128px; height: 128px;"><img class="leaflet-image-layer leaflet-zoom-animated" src="./StoryMapJS_ mushroom value chain_files/2-1-2.jpg" style="opacity: 1; transform: translate3d(536px, 497px, 0px); width: 128px; height: 128px;"><img class="leaflet-image-layer leaflet-zoom-animated" src="./StoryMapJS_ mushroom value chain_files/2-1-3.jpg" style="opacity: 1; transform: translate3d(536px, 625px, 0px); width: 128px; height: 116px;"><img class="leaflet-image-layer leaflet-zoom-animated" src="./StoryMapJS_ mushroom value chain_files/2-1-0.jpg" style="opacity: 1; transform: translate3d(536px, 241px, 0px); width: 128px; height: 128px;"><img class="leaflet-image-layer leaflet-zoom-animated" src="./StoryMapJS_ mushroom value chain_files/2-0-1.jpg" style="opacity: 1; transform: translate3d(408px, 369px, 0px); width: 128px; height: 128px;"><img class="leaflet-image-layer leaflet-zoom-animated" src="./StoryMapJS_ mushroom value chain_files/2-0-2.jpg" style="opacity: 1; transform: translate3d(408px, 497px, 0px); width: 128px; height: 128px;"><img class="leaflet-image-layer leaflet-zoom-animated" src="./StoryMapJS_ mushroom value chain_files/2-0-3.jpg" style="opacity: 1; transform: translate3d(408px, 625px, 0px); width: 128px; height: 116px;"><img class="leaflet-image-layer leaflet-zoom-animated" src="./StoryMapJS_ mushroom value chain_files/2-0-0.jpg" style="opacity: 1; transform: translate3d(408px, 241px, 0px); width: 128px; height: 128px;"></div><div class="leaflet-marker-pane"><img src="./StoryMapJS_ mushroom value chain_files/dot2.jpg" class="leaflet-marker-icon leaflet-zoom-animated leaflet-clickable" title="INPUT SUPPLIER" tabindex="0" style="margin-left: -24px; margin-top: -48px; width: 48px; height: 48px; transform: translate3d(540px, 369px, 0px); z-index: 369;"><div class="leaflet-marker-icon vco-mapmarker vco-mapmarker-icon vco-icon-image leaflet-zoom-animated leaflet-clickable" title="PRODUCER" tabindex="0" style="margin-left: -10px; margin-top: -10px; width: 12px; height: 12px; transform: translate3d(611px, 440px, 0px); z-index: 440;"></div><div class="leaflet-marker-icon vco-mapmarker vco-mapmarker-icon vco-icon-image leaflet-zoom-animated leaflet-clickable" title="TRADER" tabindex="0" style="margin-left: -10px; margin-top: -10px; width: 12px; height: 12px; transform: translate3d(683px, 512px, 0px); z-index: 512;"></div><div class="leaflet-marker-icon vco-mapmarker vco-mapmarker-icon vco-icon-image leaflet-zoom-animated leaflet-clickable" title="CONSUMER" tabindex="0" style="margin-left: -10px; margin-top: -10px; width: 12px; height: 12px; transform: translate3d(754px, 584px, 0px); z-index: 584;"></div></div><div class="leaflet-popup-pane"></div></div></div><div class="leaflet-control-container"><div class="leaflet-top leaflet-left"><div class="leaflet-control-minimap leaflet-container leaflet-fade-anim leaflet-control" style="width: 0px; height: 0px; position: relative; background-color: rgb(217, 217, 217);"><div class="leaflet-map-pane" style="transform: translate3d(-75px, -50px, 0px);"><div class="leaflet-tile-pane"><div class="leaflet-layer"><div class="leaflet-tile-container"></div><div class="leaflet-tile-container leaflet-zoom-animated"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/0-0-0.jpg" style="height: 250px; width: 234px; left: -44px; top: -68px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/0-0-0.jpg" style="height: 250px; width: 234px; left: -44px; top: -68px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/0-0-0.jpg" style="height: 250px; width: 234px; left: -44px; top: -68px;"><img class="leaflet-tile leaflet-tile-loaded" src="./StoryMapJS_ mushroom value chain_files/0-0-0.jpg" style="height: 250px; width: 234px; left: -44px; top: -68px;"></div></div></div><div class="leaflet-objects-pane"><div class="leaflet-shadow-pane"></div><div class="leaflet-overlay-pane"><svg class="leaflet-zoom-animated" width="0" height="0" viewBox="75 50 0 0" style="transform: translate3d(75px, 50px, 0px);"><g><path stroke-linejoin="round" stroke-linecap="round" fill-rule="evenodd" pointer-events="none" stroke="#FFFFFF" stroke-opacity="0.4" stroke-width="1" fill="#FFFFFF" fill-opacity="0.2" d="M75 50L75 50z"></path></g><g><path stroke-linejoin="round" stroke-linecap="round" fill-rule="evenodd" pointer-events="none" stroke="#000000" stroke-opacity="0" stroke-width="1" fill="#000000" fill-opacity="0" d="M75 50L75 50z"></path></g><g><path stroke-linejoin="round" stroke-linecap="round" fill-rule="evenodd" pointer-events="none" stroke="#FFFFFF" stroke-opacity="0.5" stroke-width="2" fill="#c34528" fill-opacity="1" d="M0 0"></path></g></svg></div><div class="leaflet-marker-pane"></div><div class="leaflet-popup-pane"></div></div></div><div class="leaflet-control-container"><div class="leaflet-top leaflet-left"></div><div class="leaflet-top leaflet-right"></div><div class="leaflet-bottom leaflet-left"></div><div class="leaflet-bottom leaflet-right"></div></div></div></div><div class="leaflet-top leaflet-right"></div><div class="leaflet-bottom leaflet-left"></div><div class="leaflet-bottom leaflet-right"><div class="leaflet-control-attribution leaflet-control"><a href="http://storymap.knightlab.com/" target="_blank" class="vco-knightlab-brand"><span>■</span> StoryMapJS</a> | <a href="http://leafletjs.com/" title="A JS library for interactive maps">Leaflet</a> | undefined</div></div></div></div></div></div><div class="vco-storyslider vco-storyslider" id="vco-cwqlp" style="top: 0px; height: 925px;"><div class="vco-slider-container-mask"><div class="vco-slider-container vcoanimate" style="left: 0px;"><div class="vco-slider-item-container"><div class="vco-slide" style="left: 0px; top: 0px;"><div class="vco-slide-scrollable-container"><div class="vco-slide-content-container"><div class="vco-slide-content" style="padding-left: 40px; padding-right: 75px; width: 509.5px;"><div class="vco-media"><div class="vco-message" style="display: none;"><div class="vco-message-container"><div class="vco-loading-icon"></div><div class="vco-message-content">Loading Image</div></div></div><div class="vco-media-content-container"><div class="vco-media-content"><img class="vco-media-item vco-media-image vco-media-shadow" src="./StoryMapJS_ mushroom value chain_files/IMG_20171011_171540 (1).jpg" style="max-height: 462.5px;"></div></div></div><div class="vco-text" id="vco-zquedo"><div class="vco-text-content-container"><h3 class="vco-headline-date"></h3><h2 class="vco-headline vco-headline-title">OVERVIEW</h2><div class="vco-text-content"><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam erat libero, bibendum in libero tempor, luctus volutpat ligula. Integer fringilla porttitor pretium. Nam erat felis, iaculis id justo ut, ullamcorper feugiat elit. Proin vel lectus auctor, porttitor ligula vitae, convallis leo. In eget massa elit.</p></div></div></div></div><div class="vco-slide-calltoaction" style="padding-left: 40px; padding-right: 75px; width: 509.5px;"><span class="vco-slide-calltoaction-button-text">Start Exploring</span></div></div></div><div class="vco-slide-background"></div></div><div class="vco-slide" style="left: 1249px; top: 0px;"><div class="vco-slide-scrollable-container"><div class="vco-slide-content-container"><div class="vco-slide-content" style="padding-left: 40px; padding-right: 75px; width: 509.5px;"><div class="vco-media"><div class="vco-message" style="display: none;"><div class="vco-message-container"><div class="vco-loading-icon"></div><div class="vco-message-content">Loading Image</div></div></div><div class="vco-media-content-container"><div class="vco-media-content"><img class="vco-media-item vco-media-image vco-media-shadow" src="./StoryMapJS_ mushroom value chain_files/06.jpg" style="max-height: 462.5px;"></div></div></div><div class="vco-text" id="vco-thptxf"><div class="vco-text-content-container"><h3 class="vco-headline-date"></h3><h2 class="vco-headline">INPUT SUPPLIER</h2><div class="vco-text-content"><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam erat libero, bibendum in libero tempor, luctus volutpat ligula. Integer fringilla porttitor pretium. Nam erat felis, iaculis id justo ut, ullamcorper feugiat elit. Proin vel lectus auctor, porttitor ligula vitae, convallis leo. In eget massa elit.</p></div></div></div></div></div></div><div class="vco-slide-background"></div></div><div class="vco-slide" style="left: 2498px; top: 0px;"><div class="vco-slide-scrollable-container"><div class="vco-slide-content-container"><div class="vco-slide-content" style="padding-left: 40px; padding-right: 75px; width: 509.5px;"><div class="vco-media"><div class="vco-message" style="display: none;"><div class="vco-message-container"><div class="vco-loading-icon"></div><div class="vco-message-content">Loading Image</div></div></div><div class="vco-media-content-container"><div class="vco-media-content"><img class="vco-media-item vco-media-image vco-media-shadow" src="./StoryMapJS_ mushroom value chain_files/building outlines and satellite image.jpg" style="max-height: 462.5px;"></div></div></div><div class="vco-text" id="vco-nihjha"><div class="vco-text-content-container"><h3 class="vco-headline-date"></h3><h2 class="vco-headline">PRODUCER</h2><div class="vco-text-content"><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam erat libero, bibendum in libero tempor, luctus volutpat ligula. Integer fringilla porttitor pretium. Nam erat felis, iaculis id justo ut, ullamcorper feugiat elit. Proin vel lectus auctor, porttitor ligula vitae, convallis leo. In eget massa elit.</p></div></div></div></div></div></div><div class="vco-slide-background"></div></div><div class="vco-slide" style="left: 3747px; top: 0px;"><div class="vco-slide-scrollable-container"><div class="vco-slide-content-container"><div class="vco-slide-content" style="padding-left: 40px; padding-right: 75px; width: 509.5px;"><div class="vco-media"><div class="vco-message"><div class="vco-message-container"><div class="vco-loading-icon"></div><div class="vco-message-content">Loading</div></div></div><div class="vco-media-content-container"><div class="vco-media-content"></div></div></div><div class="vco-text" id="vco-ihpil"><div class="vco-text-content-container"><h3 class="vco-headline-date"></h3><h2 class="vco-headline">TRADER</h2><div class="vco-text-content"><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam erat libero, bibendum in libero tempor, luctus volutpat ligula. Integer fringilla porttitor pretium. Nam erat felis, iaculis id justo ut, ullamcorper feugiat elit. Proin vel lectus auctor, porttitor ligula vitae, convallis leo. In eget massa elit.</p></div></div></div></div></div></div><div class="vco-slide-background"></div></div><div class="vco-slide" style="left: 4996px; top: 0px;"><div class="vco-slide-scrollable-container"><div class="vco-slide-content-container"><div class="vco-slide-content" style="padding-left: 40px; padding-right: 75px; width: 509.5px;"><div class="vco-media"><div class="vco-message"><div class="vco-message-container"><div class="vco-loading-icon"></div><div class="vco-message-content">Loading</div></div></div><div class="vco-media-content-container"><div class="vco-media-content"></div></div></div><div class="vco-text" id="vco-ktqjf"><div class="vco-text-content-container"><h3 class="vco-headline-date"></h3><h2 class="vco-headline">CONSUMER</h2><div class="vco-text-content"><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam erat libero, bibendum in libero tempor, luctus volutpat ligula. Integer fringilla porttitor pretium. Nam erat felis, iaculis id justo ut, ullamcorper feugiat elit. Proin vel lectus auctor, porttitor ligula vitae, convallis leo. In eget massa elit.</p></div></div></div></div></div></div><div class="vco-slide-background"></div></div></div></div></div><div class="vco-slider-background"></div><div class="vco-slidenav-next" style="top: 462.5px; display: block;"><div class="vco-slidenav-content-container"><div class="vco-slidenav-icon">&nbsp;</div><div class="vco-slidenav-title">INPUT SUPPLIER</div><div class="vco-slidenav-description"></div></div></div><div class="vco-slidenav-previous" style="top: 462.5px; display: none;"><div class="vco-slidenav-content-container"><div class="vco-slidenav-icon">&nbsp;</div><div class="vco-slidenav-title">Previous</div><div class="vco-slidenav-description">description</div></div></div></div></div>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="./StoryMapJS_ mushroom value chain_files/js"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-27829802-2',
    {
      'anonymize_ip': true,
      'linker': {
          'domains': ['knightlab.com']
        }
    });

  gtag('event', 'EmbeddedIn', {
    'event_label': document.referrer,
    'event_category': 'StoryMapJS',
    'non_interaction': true
  });
</script>
<!-- End Google Analytics -->

<script type="text/javascript">

function parseQuerystring() {
    var nvpair = {};
    var qs = window.location.search.replace('?', '');
    var pairs = qs.split('&');

    for(var i = 0; i < pairs.length; i++) {
        var p = pairs[i].split('=');
        nvpair[p[0]] = p[1];
    }
    return nvpair;
}

function getScriptPath(scriptname) {
    var scriptTags = document.getElementsByTagName('script');

    for(var i = 0; i < scriptTags.length; i++) {
        if(scriptTags[i].src.match(scriptname)) {
            script_path = scriptTags[i].src;
            return script_path.split('?')[0].split('/').slice(0, -1).join('/');
        }
    }
    return '';
}

function url_join(url, concat) { // see http://stackoverflow.com/questions/2676178/joining-relative-urls
    function build(parts,container) {
        for (var i = 0, l = parts.length; i < l; i ++) {
            if (parts[i] == '..') {
                container.pop();
            } else if (parts[i] == '.') {
                continue;
            } else {
                container.push(parts[i]);
            }
        }
    }
    var url_parts = [ ];
    build(url.split('/'),url_parts);
    build(concat.split('/'),url_parts);
    return url_parts.join('/');
}


var storymap = null;
var storymap_url = '//uploads.knightlab.com/storymapjs/287d24796e75704faed5e89799a8eab7/mushroom-value-chain/draft.json'; //decodeURIComponent(params['url']);

var params = parseQuerystring();

/* don't need this anymore
if(!!navigator.userAgent.match(/AppleWebKit\/.* Mobile\//)
|| !!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)
|| !!navigator.userAgent.toLowerCase().match(/msie [789]/)) {
    if(storymap_url.match(/^https?:\/\/www\.googledrive\.com\/host\//)) {
        storymap_url = location.protocol+'//proxy.knightlab.com/'+storymap_url.split('://')[1];
        trace('proxy, '+storymap_url);
    }
}
*/
var options = {
    script_path: getScriptPath(/storymap(-min)?\.js/),
    start_at_slide: 0
};

if(params.hasOwnProperty('start_at_slide')) {
    options.start_at_slide = parseInt(params.start_at_slide);
}

function storymap_onload(d) {
    trace('embed: storymap data loaded');

    if (d && d.storymap) {
        var font = "stock:default";
        if(d.font_css) {
            font = d.font_css;
        }
        if(font.indexOf("stock:") == 0) {
            var font_name = font.split(':')[1];
            var base_url = url_join(options.script_path,"../css/fonts");
            font = url_join(base_url, "font." + font_name + ".css");
        } else if(!font.match('^(http|https|//)')) {
            font = url_join(options.script_path, font);
        }
        VCO.Load.css(font,function(){ trace('font loaded: ' + font);});
        storymap = new VCO.StoryMap('storymap-embed', d, options);
    }
}

function storymap_getjson() {
    if('withCredentials' in new XMLHttpRequest()) {
        // Supports cross-domain requests
        trace('embed: loading data via XMLHttpRequest');
        VCO.getJSON(storymap_url, storymap_onload);
    } else if(typeof XDomainRequest !== "undefined") {
        // Use IE-specific "CORS" code with XDR
        trace('embed: loading data via XDomainRequest');
        var xdr = new XDomainRequest();
        xdr.onload = function() {
            storymap_onload(JSON.parse(xdr.responseText));
        };
        xdr.onerror = function() {
            trace('embed: error loading data via XDomainRequest');
        };
        xdr.onprogress = function() {};
        xdr.open("get", storymap_url);
        xdr.send();
    }
}

window.onload = function() {
    if(storymap_url.match('\\.js$')) {
        trace('embed: loading data via script injection');
        var loaded = false;
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src  = storymap_url;
        script.onload = script.onreadystatechange = function() {
            if(!loaded && (!(d = this.readyState) || d == "loaded" || d == "complete")) {
                loaded = true;
                storymap_onload(storymap_json);
            }
        }

        // document.head not standard before HTML5
        var insertionPoint = document.head || document.getElementsByTagName('head').item(0) || document.documentElement.childNodes[0];
        insertionPoint.appendChild(script);
    } else {
        storymap_getjson();
    }
}

window.onresize = function(event) {
    if(storymap) {
        storymap.updateDisplay();
    }
}
</script>

</body></html>